---
globs: **/components/**/*,**/screens/**/*
---

# Componentes e Screens - PadrÃµes de ImplementaÃ§Ã£o

## ğŸ“± Estrutura de Screens ObrigatÃ³ria
```
/screens/
  /auth/
    LoginScreen.tsx
    RegisterScreen.tsx
  /camera/
    CameraScreen.tsx        # Tela principal de detecÃ§Ã£o
    PermissionScreen.tsx    # Solicitar permissÃµes
  /session/
    SessionScreen.tsx       # Dashboard da sessÃ£o ativa
    ReportScreen.tsx        # RelatÃ³rio pÃ³s-sessÃ£o
  /profile/
    ProfileScreen.tsx
    SettingsScreen.tsx
```

## ğŸ§© Componentes ReutilizÃ¡veis Core
```
/components/
  /ui/
    Button.tsx              # BotÃ£o padrÃ£o com variantes
    Card.tsx                # Cards para eventos/stats
    LoadingSpinner.tsx      # Loading states
    StatusIndicator.tsx     # Status da detecÃ§Ã£o
  /camera/
    CameraView.tsx          # Wrapper da cÃ¢mera + MediaPipe
    YawnCounter.tsx         # Contador de bocejos
    SessionTimer.tsx        # Timer da sessÃ£o
  /charts/
    YawnFrequencyChart.tsx  # GrÃ¡fico de frequÃªncia
    SessionSummary.tsx      # Resumo visual
```

## ğŸ¨ PadrÃµes de Design System
- **Colors**: usar tema consistente (primary, secondary, accent)
- **Typography**: hierarquia clara (h1, h2, body, caption)
- **Spacing**: mÃºltiplos de 8px (8, 16, 24, 32)
- **Icons**: usar Expo Vector Icons consistentemente

## âš›ï¸ PadrÃµes de Componentes
```typescript
// Template obrigatÃ³rio para componentes
interface ComponentProps {
  // Props sempre tipadas
}

const Component: React.FC<ComponentProps> = ({ ...props }) => {
  // Hooks no topo
  // Event handlers
  // Render logic
  
  return (
    <View style={styles.container}>
      {/* JSX sempre indentado */}
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    // Styles sempre em StyleSheet
  }
});

export default Component;
```

## ğŸ“± Navigation Patterns
- **Stack Navigator**: para fluxo auth e onboarding
- **Tab Navigator**: para principais features (Camera, History, Profile)
- **Modal**: para settings e reports
- **Drawer**: evitar (manter simplicidade mobile)

## ğŸ”„ State Management Patterns
- **useState**: para state local do componente
- **useContext**: para estado global (Auth, Session)
- **useReducer**: para estado complexo (session analytics)
- **Custom Hooks**: abstrair lÃ³gica reutilizÃ¡vel

## ğŸ“Š Performance Guidelines
- **React.memo**: para componentes que recebem props estÃ¡veis
- **useMemo/useCallback**: para cÃ¡lculos custosos
- **FlatList**: para listas de eventos (nunca ScrollView)
- **Image optimization**: lazy loading para histÃ³rico de imagens

## ğŸš¨ Error Boundaries
```typescript
// Implementar para telas crÃ­ticas
<ErrorBoundary fallback={<ErrorScreen />}>
  <CameraScreen />
</ErrorBoundary>
```

## ğŸ“± Responsive Design
- **SafeAreaView**: sempre para iOS
- **Dimensions**: adaptar para diferentes tamanhos
- **Platform**: diferenÃ§as iOS/Android quando necessÃ¡rio
- **Keyboard**: evitar overlap com KeyboardAvoidingView