---
alwaysApply: true
---

# ğŸ§  Projeto Detector de Bocejo - Estrutura e PadrÃµes

Este Ã© um aplicativo mobile hÃ­brido (Android/iOS) para detectar bocejos usando React Native + Expo.

## ğŸ“± Stack TecnolÃ³gica Principal
- **React Native (Expo + Bare Workflow)**: Interface hÃ­brida
- **Supabase**: AutenticaÃ§Ã£o, PostgreSQL e Storage
- **react-native-mediapipe**: DetecÃ§Ã£o de keypoints faciais
- **Node.js/Express API**: Processamento de keypoints para detecÃ§Ã£o de bocejo

## ğŸ—‚ Estrutura de Pastas ObrigatÃ³ria

```
/app/
/components/       â†’ Componentes reutilizÃ¡veis
/screens/          â†’ Telas principais do app
/services/
  /api/            â†’ ComunicaÃ§Ã£o com APIs externas
  /supabase/       â†’ IntegraÃ§Ã£o com Supabase
/lib/
  /mediapipe/      â†’ ConfiguraÃ§Ã£o react-native-mediapipe
  /utils/          â†’ FunÃ§Ãµes utilitÃ¡rias
/store/            â†’ Contextos/estado global (Auth, Session)
/assets/           â†’ Imagens, fontes, etc.
/types/            â†’ Tipagens TypeScript compartilhadas
```

## ğŸ”„ Fluxo da AplicaÃ§Ã£o
1. Login via Supabase
2. PermissÃ£o de cÃ¢mera
3. Captura com mediapipe (keypoints faciais)
4. Envio para API externa a cada 10 frames
5. Se bocejo detectado: captura imagem + salva no Supabase
6. GeraÃ§Ã£o de relatÃ³rio da sessÃ£o

## ğŸ“ PadrÃµes ObrigatÃ³rios
- **TypeScript** em 100% do cÃ³digo
- ModularizaÃ§Ã£o por domÃ­nio
- Hooks e Context API para estado
- AbstraÃ§Ã£o de APIs no `services/`
- Tratamento de fallback offline